<!DOCTYPE html>
<html lang="en"><head>
<link href="../files/img/dsan6000-logo.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.54">

  <meta name="author" content="Amit Arora, Marck Vaisman, Abhijit Dasgupta">
  <title>DSAN 6000 – Lecture 5</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cbccc6; background-color: #1f2430; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cbccc6; } /* Normal */
    code span.al { color: #ff3333; background-color: #332430; font-weight: bold; } /* Alert */
    code span.an { color: #ffe6b3; } /* Annotation */
    code span.at { color: #73d0ff; } /* Attribute */
    code span.bn { color: #ffcc66; } /* BaseN */
    code span.bu { color: #95e6cb; } /* BuiltIn */
    code span.cf { color: #ffa759; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #95e6cb; } /* Char */
    code span.cn { color: #d4bfff; } /* Constant */
    code span.co { color: #5c6773; font-style: italic; } /* Comment */
    code span.cv { color: #d4bfff; } /* CommentVar */
    code span.do { color: #5c6773; } /* Documentation */
    code span.dt { color: #ffa759; } /* DataType */
    code span.dv { color: #ffcc66; } /* DecVal */
    code span.er { color: #ff3333; text-decoration: underline; } /* Error */
    code span.ex { color: #73d0ff; font-weight: bold; } /* Extension */
    code span.fl { color: #ffcc66; } /* Float */
    code span.fu { color: #ffd580; } /* Function */
    code span.im { color: #bae67e; } /* Import */
    code span.in { color: #ffcc66; } /* Information */
    code span.kw { color: #ffa759; font-weight: bold; } /* Keyword */
    code span.op { color: #f29e74; } /* Operator */
    code span.ot { color: #5ccfe6; } /* Other */
    code span.pp { color: #f28779; } /* Preprocessor */
    code span.re { color: #73d0ff; background-color: #2a4254; } /* RegionMarker */
    code span.sc { color: #95e6cb; } /* SpecialChar */
    code span.ss { color: #95e6cb; } /* SpecialString */
    code span.st { color: #bae67e; } /* String */
    code span.va { color: #5ccfe6; } /* Variable */
    code span.vs { color: #bae67e; } /* VerbatimString */
    code span.wa { color: #f28779; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-N2B9K684GE"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-N2B9K684GE', { 'anonymize_ip': true});
  </script>
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Lecture 5 – DSAN 6000">
<meta property="og:description" content="DuckDB, Polars and file formats">
<meta property="og:image" content="https://aa1603.georgetown.edu/dsan6000/slides/files/img/dsan6000-logo.png">
<meta property="og:site_name" content="DSAN 6000">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="Lecture 5 – DSAN 6000">
<meta name="twitter:description" content="DuckDB, Polars and file formats">
<meta name="twitter:image" content="https://aa1603.georgetown.edu/dsan6000/slides/files/img/dsan6000-logo.png">
<meta name="twitter:creator" content="@aarora79">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 5</h1>
  <p class="subtitle">DuckDB, Polars and file formats</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Amit Arora, Marck Vaisman, Abhijit Dasgupta 
</div>
        <p class="quarto-title-affiliation">
            Georgetown University
          </p>
        <p class="quarto-title-affiliation">
            Fall 2024
          </p>
    </div>
</div>

</section>
<section id="agenda-and-goals-for-today" class="slide level2">
<h2>Agenda and Goals for Today</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="lecture">Lecture</h3>
<ul>
<li>Distributed file systems</li>
<li>Modern file types</li>
<li>Working with large tabular data on a single node
<ul>
<li>DuckDB</li>
<li>Polars</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="lab">Lab</h3>
<ul>
<li>Run a similar task with Pandas, polars and duckdb</li>
</ul>
</div></div>
</section>
<section id="logistics-and-review" class="slide level2">
<h2>Logistics and Review</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="deadlines">Deadlines</h3>
<ul>
<li><del>Assignment 1: Python Skills <strong>Due Sept 5 11:59pm</strong></del></li>
<li><del>Lab 2: Cloud Tooling <strong>Due Sept 5 6pm</strong></del></li>
<li><del>Assignment 2: Shell &amp; Linux <strong>Due Sept 11 11:59pm</strong></del></li>
<li><del>Lab 3: Parallel Computing <strong>Due Sept 12 6pm</strong></del></li>
<li>Assignment 3: Parallelization <strong>Due Sept 18 11:59pm</strong></li>
<li>Lab 4: Docker and Lambda <strong>Due Sept 19 6pm</strong></li>
<li>Assignment 4: Containers <strong>Due Sept 25 11:59pm</strong></li>
<li>Lab 5: DuckDB &amp; Polars <strong>Due Sept 26 6pm</strong></li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="look-back-and-ahead">Look back and ahead</h3>
<ul>
<li>Continue to use Slack for questions!</li>
<li>Docker (containerization)</li>
<li>Lambda functions</li>
<li>Coming up: Spark and project</li>
</ul>
</div></div>
</section>
<section>
<section id="filesystems" class="title-slide slide level1 center">
<h1>Filesystems</h1>

</section>
<section id="raw-ingredients-of-storage-systems" class="slide level2">
<h2>Raw ingredients of storage systems</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Disk drives (magnetic HDDs or SSDs)</li>
<li>RAM</li>
<li>Networking and CPU</li>
<li>Serialization</li>
<li>Compression</li>
<li>Caching</li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="filesystems-and-filetypes/img/fode_0602.png" height="500"></p>
</div></div>

<aside><div>
<p>Reis,&nbsp;J.,&nbsp;Housley,&nbsp;M.&nbsp;(2022).&nbsp;Fundamentals of Data Engineering.&nbsp;United States:&nbsp;O’Reilly Media.</p>
</div></aside></section>
<section id="single-machine-vs.-distributed-storage" class="slide level2">
<h2>Single machine vs.&nbsp;distributed storage</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="filesystems-and-filetypes/img/fode_0604.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p><strong>Single machine</strong></p>
<ul>
<li>They are commonly used for storing operating system files, application files, and user data files.</li>
<li>Filesystems are also used in databases to store data files, transaction logs, and backups.</li>
</ul>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<p><strong>Distributed storage</strong></p>
<ul>
<li>A distributed filesystem is a type of filesystem that spans multiple computers.</li>
<li>It provides a unified view of files across all the computers in the system.</li>
<li>Have existed before cloud</li>
</ul>
</div>
</div>
</div>

<aside><div>
<p>Reis,&nbsp;J.,&nbsp;Housley,&nbsp;M.&nbsp;(2022).&nbsp;Fundamentals of Data Engineering.&nbsp;United States:&nbsp;O’Reilly Media.</p>
</div></aside></section>
<section id="file-storage" class="slide level2">
<h2>File storage</h2>
<p>A file is a data entity with specific read, write, and reference characteristics used by software and operating systems.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<p><strong>Local disk</strong></p>
<ul>
<li>Operating system–managed filesystems on local disk partition of SSD or magnetic disk:
<ul>
<li>NTFS (Windows)</li>
<li>HFS+ (MacOS)</li>
<li>ext4 (Linux)() on a local disk partition of SSD or magnetic disk</li>
</ul></li>
</ul>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<p><strong>Network-attached (NAS)</strong></p>
<ul>
<li>File storage system to clients over a network</li>
<li>Including redundancy and reliability, fine-grained control of resources, storage pooling across multiple disks for large virtual volumes, and file sharing across multiple machines</li>
</ul>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<p><strong>Cloud filesystems</strong></p>
<ul>
<li><strong>Not object store (more on that later)</strong></li>
<li><strong>Not the virtual hard drive attached to a virtual machine</strong></li>
<li>Fully managed filesystem which takes care of networking, managing disk clusters, failures, and configuration (Azure Files, Amazon Elastic Filesystem)</li>
<li>Backed by Object Store</li>
</ul>
</div>
</div>
</div>

<aside><div>
<p>Reis,&nbsp;J.,&nbsp;Housley,&nbsp;M.&nbsp;(2022).&nbsp;Fundamentals of Data Engineering.&nbsp;United States:&nbsp;O’Reilly Media.</p>
</div></aside></section>
<section id="object-stores" class="slide level2">
<h2>Object stores</h2>
<p>The term object storage is somewhat confusing because object has several meanings in computer science. In this context, we’re talking about a specialized file-like construct. It could be any type of file: TXT, CSV, JSON, images, videos, audio, or pretty much any type of file.</p>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[[33, 33, 33], [100]]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="cell1" class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img data-src="filesystems-and-filetypes/img/s3-blob.png"></p>
</div>
<div id="cell2" class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img data-src="filesystems-and-filetypes/img/fode_0608.png"></p>
</div>
<div id="cell3" class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img data-src="filesystems-and-filetypes/img/object-storage-structure.png"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="cell4" class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<ul>
<li>Contains objects of all shapes and sizes.</li>
<li>Every object gets a unique identifier</li>
<li>Objects are immutable; cannot be modifier in place (unlike local FS)</li>
<li>Distributed by design</li>
<li>Massively scalable REST API access</li>
</ul>
</div>
</div>
</div>
</section>
<section id="distributed-fs-vs-object-store" class="slide level2">
<h2>Distributed FS vs Object Store</h2>
<table class="caption-top">
<colgroup>
<col style="width: 6%">
<col style="width: 56%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>Distributed File System</th>
<th>Object Storage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Organization</td>
<td>Files in hierarchical directories</td>
<td>Flat organization (though there can be overlays to provide hierarchical files structure)</td>
</tr>
<tr class="even">
<td>Method</td>
<td>POSIX File Operations</td>
<td>REST API</td>
</tr>
<tr class="odd">
<td>Immutability</td>
<td>None: Random writes anywhere in file</td>
<td>Immutable: need to replace/append entire object</td>
</tr>
<tr class="even">
<td>Scalability</td>
<td>Millions of files</td>
<td>Billions of objects</td>
</tr>
</tbody>
</table>
<p>Both provide:</p>
<ul>
<li>Fault tolerance</li>
<li>Availability and consistency</li>
</ul>
</section>
<section id="before-data-locality-for-hadoop" class="slide level2">
<h2>Before: Data locality (for Hadoop)</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="filesystems-and-filetypes/img/hdg-0202.png" class="quarto-figure quarto-figure-center" height="500"></p>
</figure>
</div>

<aside><div>
<p>White,&nbsp;T.&nbsp;E.&nbsp;(2015).&nbsp;Hadoop: The Definitive Guide, 4th Edition.&nbsp;United States:&nbsp;O’Reilly Media, Incorporated.</p>
</div></aside></section>
<section id="today-de-coupling-storage-from-compute" class="slide level2">
<h2>Today: de-coupling storage from compute</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="filesystems-and-filetypes/img/tcdl_0106.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>

<aside><div>
<p>Gopalan,&nbsp;R.&nbsp;(2022).&nbsp;The Cloud Data Lake.&nbsp;United States:&nbsp;O’Reilly Media.</p>
</div></aside></section></section>
<section>
<section id="data-on-disk-formats" class="title-slide slide level1 center">
<h1>Data on-disk formats</h1>

</section>
<section id="plain-text-csv-tdf-fwf" class="slide level2">
<h2>Plain Text (CSV, TDF, FWF)</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="https://meme-generator.com/wp-content/uploads/mememe/2021/04/we-shared-the-csv-with-a-different-separator-335529-1.jpg" class="quarto-figure quarto-figure-center" height="400"></p>
</figure>
</div>
<ul>
<li>Pay attention to encodings!</li>
<li>Lines end in linefeed, carriage-return, or both together depending on the OS that generated</li>
<li>Typically, a single line of text contains a single record</li>
</ul>
</section>
<section id="json" class="slide level2">
<h2>JSON</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[[100], [33, 33, 33]]">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p>JSON files have two flavors: <code>JSON Lines</code> vs.&nbsp;<code>JSON</code>. Typically when we say data is in JSON format, we imply it’s <code>JSON Lines</code> which means that there is a single JSON object per line, and there are multiple lines.</p>
</div>
</div>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div id="c2" class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<h3 id="json-lines">JSON Lines</h3>
<p>Four records, one per line. No ending comma.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb1-1"><a></a><span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">1</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"marck"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"vaisman"</span><span class="fu">}</span></span>
<span id="cb1-2"><a></a><span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">2</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"anderson"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"monken"</span><span class="fu">}</span></span>
<span id="cb1-3"><a></a><span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">3</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"amit"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"arora"</span><span class="fu">}</span></span>
<span id="cb1-4"><a></a><span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">4</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"abhijit"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"dasgupta"</span><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c3" class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<h3 id="json-1">JSON</h3>
<p>Four records enclosed in a JSON Array</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb2-1"><a></a><span class="ot">[</span></span>
<span id="cb2-2"><a></a>  <span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">1</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"marck"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"vaisman"</span><span class="fu">}</span><span class="ot">,</span></span>
<span id="cb2-3"><a></a>  <span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">2</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"anderson"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"monken"</span><span class="fu">}</span><span class="ot">,</span></span>
<span id="cb2-4"><a></a>  <span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">3</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"amit"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"arora"</span><span class="fu">}</span><span class="ot">,</span></span>
<span id="cb2-5"><a></a>  <span class="fu">{</span><span class="dt">"id"</span><span class="fu">:</span><span class="dv">4</span><span class="fu">,</span> <span class="dt">"name"</span><span class="fu">:</span><span class="st">"abhijit"</span><span class="fu">,</span> <span class="dt">"last_name"</span><span class="fu">:</span><span class="st">"dasgupta"</span><span class="fu">}</span><span class="ot">,</span></span>
<span id="cb2-6"><a></a><span class="ot">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="binary-files" class="slide level2">
<h2>Binary files</h2>

<img data-src="https://fileinfo.com/img/ss/xl/bin_1956.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="issues-with-common-file-formats-particularly-csvs" class="slide level2">
<h2>Issues with common file formats, particularly CSVs:</h2>
<ul>
<li>Still ubiquitous and highly error prone (even in 2023)</li>
<li>The default delimiter is also one of the most familiar characters in the English language—the comma</li>
<li>Not a uniform format
<ul>
<li>Delimiter (comma, tab, semi-colon, custom)</li>
<li>Quote characters (single or doble quote)</li>
<li>Escaping to appropriately handle string data</li>
</ul></li>
<li>Doesn’t natively encode schema information</li>
<li>No direct support for nested structures</li>
<li>Encoding and schema information must be configured in the target system to ensure appropriate ingestion</li>
<li>Autodetection is a convenience feature provided in many cloud environments but is inappropriate for production ingestion, and can be painfully slow</li>
<li>Data engineers are often forced to work with CSV data and then build robust exception handling and error detection to ensure data quality on ingestion</li>
</ul>
</section></section>
<section>
<section id="introducing-apache-parquet" class="title-slide slide level1 center">
<h1>Introducing Apache Parquet</h1>

</section>
<section id="apache-parquet" class="slide level2">
<h2>Apache Parquet</h2>
<ul>
<li>Free and open-source column-oriented data storage format</li>
<li>Created by Twitter and Cloudera</li>
<li>v1.0 released in July, 2013</li>
<li>Stores data in a columnar format (as opposed to row format) and is designed to realize excellent read and write performance</li>
<li>Parquet-encoded data builds in schema information and natively supports nested data</li>
<li>Parquet is portable</li>
<li>Has become the standard for modern data warehouses and big data tools</li>
<li>Supported by R and Python through <a href="https://arrow.apache.org/">Apache Arrow</a> (more on that coming up!)</li>
</ul>
</section>
<section id="traditional-row-store" class="slide level2">
<h2>Traditional row-store</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50, 50]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="col1" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Row-store-1024x576.png"></p>
</div>
<div id="col2" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Row-based-scan-1024x576.png"></p>
</div>
</div>
</div>
<p>Say you wanted to answer the question <em>“How many balls did we sell?</em>, the engine must scan each and every row until the end!</p>

<aside><div>
<p><a href="https://data-mozart.com/parquet-file-format-everything-you-need-to-know/">Parquet file format, everything you need to know</a></p>
</div></aside></section>
<section id="column-store" class="slide level2">
<h2>Column-store</h2>
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Column-store-1024x576.png"></p>


<aside><div>
<p><a href="https://data-mozart.com/parquet-file-format-everything-you-need-to-know/">Parquet file format, everything you need to know</a></p>
</div><div>
<p><a href="https://data-mozart.com/parquet-file-format-everything-you-need-to-know/">Parquet file format, everything you need to know</a></p>
</div></aside></section>
<section id="row-groups" class="slide level2">
<h2>Row groups</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50, 50]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="col1" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h3 id="data-is-stored-in-row-groups">Data is stored in row groups!</h3>
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Row-store-1024x576.png"></p>
</div>
<div id="col2" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<h3 id="only-the-required-fields">Only the required fields</h3>
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Row-based-scan-1024x576.png"></p>
</div>
</div>
</div>

<aside><div>
<p><a href="https://data-mozart.com/parquet-file-format-everything-you-need-to-know/">Parquet file format, everything you need to know</a></p>
</div></aside></section>
<section id="metadata-compression-and-dictionary-encoding" class="slide level2">
<h2>Metadata, compression, and dictionary encoding</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50, 50]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="col1" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Format-1024x576.png"></p>
</div>
<div id="col2" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="https://data-mozart.com/wp-content/uploads/2023/04/Dictionary-1024x576.png"></p>
</div>
</div>
</div>

<aside><div>
<p><a href="https://data-mozart.com/parquet-file-format-everything-you-need-to-know/">Parquet file format, everything you need to know</a></p>
</div></aside></section>
<section id="apache-arrow-for-in-memory" class="slide level2">
<h2>Apache Arrow for in-memory</h2>
<blockquote>
<p>Apache Arrow is a development platform for in-memory analytics. It contains a set of technologies that enable big data systems to process and move data fast. It specifies a standardized language-independent columnar memory format for flat and hierarchical data, organized for efficient analytic operations on modern hardware.</p>
</blockquote>

<aside><div>
<p>Topol,&nbsp;M.,&nbsp;McKinney,&nbsp;W.&nbsp;(2022).&nbsp;In-Memory Analytics with Apache Arrow: Perform Fast and Efficient Data Analytics on Both Flat and Hierarchical Structured Data.&nbsp;United Kingdom:&nbsp;Packt Publishing.</p>
</div></aside></section>
<section id="before-arrow" class="slide level2">
<h2>Before Arrow</h2>
<p><img data-src="filesystems-and-filetypes/img/before-arrow.jpg"></p>

<aside><div>
<p>Topol,&nbsp;M.,&nbsp;McKinney,&nbsp;W.&nbsp;(2022).&nbsp;In-Memory Analytics with Apache Arrow: Perform Fast and Efficient Data Analytics on Both Flat and Hierarchical Structured Data.&nbsp;United Kingdom:&nbsp;Packt Publishing.</p>
</div></aside></section>
<section id="after-arrow" class="slide level2">
<h2>After Arrow</h2>
<p><img data-src="filesystems-and-filetypes/img/after-arrow.jpg"></p>

<aside><div>
<p>Topol,&nbsp;M.,&nbsp;McKinney,&nbsp;W.&nbsp;(2022).&nbsp;In-Memory Analytics with Apache Arrow: Perform Fast and Efficient Data Analytics on Both Flat and Hierarchical Structured Data.&nbsp;United Kingdom:&nbsp;Packt Publishing.</p>
</div></aside></section>
<section id="arrow-compatibility" class="slide level2">
<h2>Arrow Compatibility</h2>
<p><img data-src="filesystems-and-filetypes/img/data-processing.jpg"></p>

<aside><div>
<p>Topol,&nbsp;M.,&nbsp;McKinney,&nbsp;W.&nbsp;(2022).&nbsp;In-Memory Analytics with Apache Arrow: Perform Fast and Efficient Data Analytics on Both Flat and Hierarchical Structured Data.&nbsp;United Kingdom:&nbsp;Packt Publishing.</p>
</div></aside></section>
<section id="arrow-performance" class="slide level2">
<h2>Arrow Performance</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50, 50]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="col1" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="filesystems-and-filetypes/img/file-size-perf-numbers.jpg"></p>
</div>
<div id="col2" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img data-src="filesystems-and-filetypes/img/mean-calc-mem-runtime.jpg"></p>
</div>
</div>
</div>

<aside><div>
<p>Topol,&nbsp;M.,&nbsp;McKinney,&nbsp;W.&nbsp;(2022).&nbsp;In-Memory Analytics with Apache Arrow: Perform Fast and Efficient Data Analytics on Both Flat and Hierarchical Structured Data.&nbsp;United Kingdom:&nbsp;Packt Publishing.</p>
</div></aside></section>
<section id="use-arrow-to-readwrite-csvs-and-parquet" class="slide level2">
<h2>Use Arrow to read/write CSVs and Parquet</h2>
<div>

</div>
<div class="quarto-layout-panel" data-layout="[50, 50]">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="col1" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 id="python">Python</h3>
<p>Use the <code>pyarrow</code> library or straight from <code>pandas</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-2"><a></a>pd.read_csv(engine <span class="op">=</span> <span class="st">'pyarrow'</span>)</span>
<span id="cb3-3"><a></a>pd.read_parquet</span>
<span id="cb3-4"><a></a></span>
<span id="cb3-5"><a></a><span class="im">import</span> pyarrow.csv</span>
<span id="cb3-6"><a></a>pyarrow.csv.read_csv()</span>
<span id="cb3-7"><a></a></span>
<span id="cb3-8"><a></a><span class="im">import</span> pyarrow.parquet</span>
<span id="cb3-9"><a></a>pyarrow.parquet.read_table()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="col2" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<h3 id="r">R</h3>
<p>Use the <code>arrow</code> package</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">library</span>(arrow)</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a><span class="fu">read_csv_arrow</span>()</span>
<span id="cb4-4"><a></a><span class="fu">read_parquet</span>()</span>
<span id="cb4-5"><a></a><span class="fu">read_json_arrow</span>()</span>
<span id="cb4-6"><a></a></span>
<span id="cb4-7"><a></a><span class="fu">write_csv_arrow</span>()</span>
<span id="cb4-8"><a></a><span class="fu">write_parquet</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><strong>Recommendation:</strong> save your intermediate and analytical datasets as <code>Parquet</code>!</p>
</section></section>
<section>
<section id="polars" class="title-slide slide level1 center">
<h1>Polars</h1>
<p>Lightning-fast DataFrame library for Rust and Python</p>
</section>
<section id="before-we-begin.." class="slide level2">
<h2>Before we begin..</h2>
<blockquote>
<p><a href="https://pandas.pydata.org/">Pandas</a> is a fast, powerful, flexible and easy to use open source data analysis and manipulation tool, built on top of the Python programming language.</p>
</blockquote>
<div>
<ol type="1">
<li class="fragment">Pandas is slow, well yes but also, not so much if you use it the right way.</li>
</ol>
<ul>
<li class="fragment"><p><a href="https://wesmckinney.com/blog/apache-arrow-pandas-internals/">Apache Arrow and the “10 Things I Hate About pandas”</a> (<font color="red" size="5">A 2017 post from the creator of Pandas..</font>)</p></li>
<li class="fragment"><p><a href="https://blog.esciencecenter.nl/irregular-data-in-pandas-using-c-88ce311cb9ef">50 times faster data loading for Pandas: no problem</a> (<font color="red" size="5">but this is an old 2019 article..</font>)</p></li>
<li class="fragment"><p><a href="https://medium.com/@tommerrissin/is-pandas-really-that-slow-cff4352e4f58">Is Pandas really that slow?</a></p></li>
</ul>
<ol type="1">
<li class="fragment"><a href="https://datapythonista.me/blog/pandas-20-and-the-arrow-revolution-part-i">Pandas 2.0 and the arrow revolution</a></li>
</ol>
</div>
</section>
<section id="polars-1" class="slide level2">
<h2>Polars</h2>

<img data-src="polars/img/polars.jpg" class="r-stretch quarto-figure-center"><p class="caption"><a href="polars/img/polars.jpg"><code>Polars</code></a></p></section>
<section id="why-is-polars-faster-than-pandas" class="slide level2">
<h2>Why is Polars faster than Pandas?</h2>
<div>
<ol type="1">
<li class="fragment"><p><strong>Polars is written in Rust</strong>. Rust is a compiled language, Python is an interpreted language.</p>
<ul>
<li class="fragment">Compiled language: you generate the machine code only once then run it, subsequent runs do not need the compilation step.</li>
<li class="fragment">Interpreted language: code has to be parsed, interpreted and converted into machine code every single time.</li>
</ul></li>
<li class="fragment"><p><strong>Parallelization</strong>: Vectorized operations that can be executed in parallel on multiple CPU cores.</p></li>
<li class="fragment"><p><strong>Lazy evaluation</strong>: Polars supports two APIs lazy as well as eager evaluation (used by pandas). In lazy evaluation, a query is executed only when required. While in eager evaluation, a query is executed immediately.</p></li>
<li class="fragment"><p><strong>Polars uses <a href="https://arrow.apache.org/">Arrow</a></strong> as its in-memory representation of data. Similar to how pandas uses Numpy (although Pandas 2.0 does allow using Arrow as the backend in addition to Numpy).</p>
<ul>
<li class="fragment">[Excerpt from <a href="https://news.ycombinator.com/item?id=26454585">this post</a> from <a href="https://github.com/ritchie46">Ritchie Vink</a>, author of Polars] Arrow provides the efficient data structures and some compute kernels, like a SUM, a FILTER, a MAX etc. Arrow is not a query engine. Polars is a DataFrame library on top of arrow that has implemented efficient algorithms for JOINS, GROUPBY, PIVOTs, MELTs, QUERY OPTIMIZATION, etc. (the things you expect from a DF lib).</li>
<li class="fragment"><strong>Polars could be best described as an in-memory DataFrame library with a query optimizer</strong>.</li>
</ul></li>
</ol>
</div>
</section>
<section id="ease-of-use" class="slide level2">
<h2>Ease of use</h2>
<ol type="1">
<li><p>Familiar API for users of Pandas: there are differences in syntax <code>polars != pandas</code> but it is still a Dataframe API making it straightforward to perform common operations such as filtering, aggregating, and joining data. See <a href="https://pola-rs.github.io/polars-book/user-guide/migration/pandas/">migrating from Pandas</a></p>
<p><strong>Reading data</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a><span class="co"># must install s3fs -&gt; "pip install s3fs"</span></span>
<span id="cb5-2"><a></a></span>
<span id="cb5-3"><a></a><span class="co"># Using Polars</span></span>
<span id="cb5-4"><a></a><span class="im">import</span> polars <span class="im">as</span> pl</span>
<span id="cb5-5"><a></a>polars_df <span class="op">=</span> pl.read_parquet(<span class="st">"s3://nyc-tlc/trip data/yellow_tripdata_2023-06.parquet"</span>)</span>
<span id="cb5-6"><a></a></span>
<span id="cb5-7"><a></a><span class="co"># using Pandas</span></span>
<span id="cb5-8"><a></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb5-9"><a></a>pandas_df <span class="op">=</span> pd.read_parquet(<span class="st">"s3://nyc-tlc/trip data/yellow_tripdata_2023-06.parquet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Selecting columns (see <a href="https://stackoverflow.com/questions/68713020/what-is-filter-pushdown-optimization">Pushdown optimization</a>)</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="co"># Using Polars</span></span>
<span id="cb6-2"><a></a>selected_columns_polars <span class="op">=</span> polars_df[[<span class="st">'column1'</span>, <span class="st">'column2'</span>]]</span>
<span id="cb6-3"><a></a></span>
<span id="cb6-4"><a></a><span class="co"># Using Pandas</span></span>
<span id="cb6-5"><a></a>selected_columns_pandas <span class="op">=</span> pandas_df[[<span class="st">'column1'</span>, <span class="st">'column2'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="ease-of-use-contd." class="slide level2">
<h2>Ease of use (contd.)</h2>
<ol type="1">
<li><p>Familiar API for users of Pandas:</p>
<p><strong>Filtering data</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a></a><span class="co"># Using Polars</span></span>
<span id="cb7-2"><a></a>filtered_polars <span class="op">=</span> polars_df[polars_df[<span class="st">'column1'</span>] <span class="op">&gt;</span> <span class="dv">10</span>]</span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a><span class="co"># Using Pandas</span></span>
<span id="cb7-5"><a></a>filtered_pandas <span class="op">=</span> pandas_df[pandas_df[<span class="st">'column1'</span>] <span class="op">&gt;</span> <span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Even though you can write Polars code that looks like Pandas, it is better to <code>write idiomatic Polars code</code> that takes advantages of unique features Polars offers</strong>.</p></li>
<li><p><a href="https://pola-rs.github.io/polars-book/user-guide/migration/spark/">Migrating from Apache Spark</a>: Whereas the Spark DataFrame is analogous to a collection of rows, a Polars DataFrame is closer to a collection of columns.</p></li>
</ol>
</section></section>
<section>
<section id="installation-data-loading-and-basic-operations" class="title-slide slide level1 center">
<h1>Installation, data loading and basic operations</h1>
<p>Install polars via pip.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a></a><span class="ex">pip</span> install polars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Import polars in your Python code and read data as usual</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a></a><span class="im">import</span> polars <span class="im">as</span> pl</span>
<span id="cb9-2"><a></a>df <span class="op">=</span> pl.read_parquet(<span class="st">"s3://nyc-tlc/trip data/yellow_tripdata_2023-06.parquet"</span>)</span>
<span id="cb9-3"><a></a>df.head()</span>
<span id="cb9-4"><a></a></span>
<span id="cb9-5"><a></a>shape: (<span class="dv">5</span>, <span class="dv">19</span>)</span>
<span id="cb9-6"><a></a>┌──────────┬────────────┬──────────────┬──────────────┬─────┬──────────────┬──────────────┬──────────────┬─────────────┐</span>
<span id="cb9-7"><a></a>│ VendorID ┆ tpep_picku ┆ tpep_dropoff ┆ passenger_co ┆ ... ┆ improvement_ ┆ total_amount ┆ congestion_s ┆ Airport_fee │</span>
<span id="cb9-8"><a></a>│ <span class="op">---</span>      ┆ p_datetime ┆ _datetime    ┆ unt          ┆     ┆ surcharge    ┆ <span class="op">---</span>          ┆ urcharge     ┆ <span class="op">---</span>         │</span>
<span id="cb9-9"><a></a>│ i32      ┆ <span class="op">---</span>        ┆ <span class="op">---</span>          ┆ <span class="op">---</span>          ┆     ┆ <span class="op">---</span>          ┆ f64          ┆ <span class="op">---</span>          ┆ f64         │</span>
<span id="cb9-10"><a></a>│          ┆ datetime[n ┆ datetime[ns] ┆ i64          ┆     ┆ f64          ┆              ┆ f64          ┆             │</span>
<span id="cb9-11"><a></a>│          ┆ s]         ┆              ┆              ┆     ┆              ┆              ┆              ┆             │</span>
<span id="cb9-12"><a></a>╞══════════╪════════════╪══════════════╪══════════════╪═════╪══════════════╪══════════════╪══════════════╪═════════════╡</span>
<span id="cb9-13"><a></a>│ <span class="dv">1</span>        ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span> ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span>   ┆ <span class="dv">1</span>            ┆ ... ┆ <span class="fl">1.0</span>          ┆ <span class="fl">33.6</span>         ┆ <span class="fl">2.5</span>          ┆ <span class="fl">0.0</span>         │</span>
<span id="cb9-14"><a></a>│          ┆ <span class="dv">00</span>:<span class="dv">0</span><span class="er">8</span>:<span class="dv">48</span>   ┆ <span class="dv">00</span>:<span class="dv">29</span>:<span class="dv">41</span>     ┆              ┆     ┆              ┆              ┆              ┆             │</span>
<span id="cb9-15"><a></a>│ <span class="dv">1</span>        ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span> ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span>   ┆ <span class="dv">0</span>            ┆ ... ┆ <span class="fl">1.0</span>          ┆ <span class="fl">23.6</span>         ┆ <span class="fl">2.5</span>          ┆ <span class="fl">0.0</span>         │</span>
<span id="cb9-16"><a></a>│          ┆ <span class="dv">00</span>:<span class="dv">15</span>:<span class="dv">0</span><span class="er">4</span>   ┆ <span class="dv">00</span>:<span class="dv">25</span>:<span class="dv">18</span>     ┆              ┆     ┆              ┆              ┆              ┆             │</span>
<span id="cb9-17"><a></a>│ <span class="dv">1</span>        ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span> ┆ <span class="dv">2023</span><span class="op">-</span><span class="dv">0</span><span class="er">6</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span>   ┆ <span class="dv">1</span>            ┆ ... ┆ <span class="fl">1.0</span>          ┆ <span class="fl">60.05</span>        ┆ <span class="fl">0.0</span>          ┆ <span class="fl">1.75</span>        │</span>
<span id="cb9-18"><a></a>└──────────┴────────────┴──────────────┴──────────────┴─────┴──────────────┴──────────────┴──────────────┴─────────────┘</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="a-polars-dataframe-processing-pipeline-example" class="slide level2">
<h2>A Polars DataFrame processing pipeline example</h2>
<p>Here is an example that we will run as part of the lab in a little bit.</p>
<blockquote>
<p><strong>Think how you would code this same pipeline in Pandas…</strong></p>
</blockquote>

<img data-src="polars/img/polars-pipeline.png" class="r-stretch quarto-figure-center"><p class="caption">Polars pipeline</p></section>
<section id="further-reading" class="slide level2">
<h2>Further reading</h2>
<ul>
<li><a href="https://github.com/pola-rs/polars">Polars</a></li>
<li><a href="https://pola-rs.github.io/polars-book/user-guide/">User guide</a> &lt;— <strong>MUST READ</strong></li>
<li><a href="https://github.com/pola-rs/polars">Polars GitHub repo</a></li>
<li><a href="https://towardsdatascience.com/pandas-vs-polars-a-syntax-and-speed-comparison-5aa54e27497e">Pandas Vs Polars: a syntax and speed comparison</a></li>
<li><a href="https://towardsdatascience.com/tips-and-tricks-for-working-with-strings-in-polars-ec6bb74aeec2">Tips &amp; tricks for working with strings in Polars</a></li>
</ul>
</section></section>
<section>
<section id="duckdb" class="title-slide slide level1 center">
<h1>DuckDB</h1>
<p>An in-process SQL OLAP database management system</p>
</section>
<section id="duckdb-1" class="slide level2">
<h2>DuckDB</h2>
<ol type="1">
<li><a href="https://duckdb.org/">DuckDB</a> is an in-process <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> <a href="https://en.wikipedia.org/wiki/Online_analytical_processing">OLAP</a> database management system.</li>
</ol>
<blockquote>
<p>It is like sqllite, but for analytics. What does this mean? It means that your database runs inside your process, there are no servers to manage, no remote system to connect to. Very snappy, easy to experiment with SQL like syntax.</p>
</blockquote>
<ol type="1">
<li><p>DuckDB does <strong>vectorized processing</strong> i.e.&nbsp;loads chunks of data into memory (tries to keep everything in the CPU’s L1 and L2 cache) and is thus able to handle datasets bigger than the amount of RAM available.</p></li>
<li><p>DuckDB supports Python, R and a host of other languages.</p></li>
</ol>

<aside><div>
<p>Paper on DuckDB by Hannes Mühleisen &amp; Mark Raasveldt</p>
<p><a href="https://hannes.muehleisen.org/publications/SIGMOD2019-demo-duckdb.pdf"><strong>DuckDB: an Embeddable Analytical Database</strong></a></p>
</div></aside></section>
<section id="duckdb---quick-introduction" class="slide level2">
<h2>DuckDB - quick introduction</h2>
<p><a href="https://duckdb.org/">DuckDB</a> is an in-process SQL OLAP database management system</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a></a><span class="ex">pip</span> install duckdb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<img data-src="duckdb/img/duckdb.png" class="r-stretch quarto-figure-center"><p class="caption">Duck DB</p></section>
<section id="key-features" class="slide level2">
<h2>Key Features</h2>
<ol type="1">
<li><p><strong>Columnar Storage &amp; Vectorized Query processing</strong>: DuckDB contains a columnar-vectorized query execution engine, where queries are still interpreted, but a large batch of values (a “vector”) are processed in one operation.</p>
<ul>
<li>Most analytical queries (think group by and summarize) or even data retrieval for training ML models require retrieving a subset of columns and now the entire row, columnar storage make this faster.</li>
</ul></li>
<li><p><strong>In-Memory Processing</strong>: all data needed for processing is brought within the process memory (recall that columnar storage format helps with this) making the queries run faster (no call to a database over the network).</p></li>
<li><p><strong>SQL Support</strong>: highly Postgres-compatible version of SQL<sup>1</sup>.</p></li>
<li><p><strong>ACID Compliance</strong>: Transactional guarantees (ACID properties) through bulk-optimized Multi-Version Concurrency Control (MVCC).</p></li>
</ol>
<aside><ol class="aside-footnotes"><li id="fn1"><p><a href="https://duckdb.org/2022/05/04/friendlier-sql.html">Friendlier SQL with DuckDB</a></p></li></ol></aside></section>
<section id="use-cases-for-duckdb" class="slide level2">
<h2>Use-cases for DuckDB</h2>
<ol type="1">
<li>Data Warehousing</li>
<li>Business Intelligence</li>
<li>Real-time Analytics</li>
<li>IoT Data Processing</li>
</ol>
</section>
<section id="duckdb-in-the-wild" class="slide level2">
<h2>DuckDB in the wild</h2>
<ol type="1">
<li><p><a href="https://mode.com/blog/how-we-switched-in-memory-data-engine-to-duck-db-to-boost-visual-data-exploration-speed/">How We Silently Switched Mode’s In-Memory Data Engine to DuckDB To Boost Visual Data Exploration Speed</a></p></li>
<li><p><a href="https://www.rilldata.com/blog/why-we-built-rill-with-duckdb">Why we built Rill with DuckDB</a></p></li>
<li><p><a href="https://www.astrafy.io/articles/leveraging-duckdb-for-enhanced-performance-in-dbt-projects">Leveraging DuckDB for enhanced performance in dbt projects</a></p></li>
</ol>
</section>
<section id="how-might-you-think-about-duckdb---diy-version" class="slide level2">
<h2>How might you think about DuckDB - DIY Version</h2>

<img data-src="duckdb/img/duckdb.drawio.png" class="r-stretch quarto-figure-center"><p class="caption">Datalake and DuckDB</p><ol type="1">
<li><p><a href="https://tobilg.com/using-duckdb-in-aws-lambda">Using DuckDB in AWS Lambda</a></p></li>
<li><p><a href="https://duckdb.org/2022/10/12/modern-data-stack-in-a-box.html">Modern Data Stack in a Box with DuckDB</a>: DuckDB, Meltano, Dbt, Apache Superset</p></li>
</ol>
</section>
<section id="how-might-you-think-about-duckdb---fully-managed" class="slide level2">
<h2>How might you think about DuckDB - Fully-managed</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="duckdb/img/motherduck-architecture.png"></p>
<figcaption>MotherDuck Architecture</figcaption>
</figure>
</div>
</div><div class="column" style="width:40%;">
<ol type="1">
<li><p><a href="https://motherduck.com/docs/architecture-and-capabilities/">Architecture and capabilities</a></p></li>
<li><p>Seamlessly analyze data, whether it sits on your laptop, in the cloud or split between. Hybrid execution automatically plans each part of your query and determines where it’s best computed. If you use DuckDB with data lakes in s3, it’ll be much faster to run your analyses on MotherDuck.</p></li>
</ol>
<p><a href="https://kestra.io/blogs/2023-07-28-duckdb-vs-motherduck">DuckDB Vs MotherDuck</a></p>
</div></div>
</section>
<section id="setting-up-duckdb" class="slide level2">
<h2>Setting Up DuckDB</h2>
<ol type="1">
<li><p><strong>Configuration and Initialization</strong>: DuckDB is deeply integrated into Python and R for efficient interactive data analysis. DuckDB provides APIs for Java, C, C++, Julia, Swift, and others.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a></a>pip install duckdb</span>
<span id="cb11-2"><a></a><span class="co"># OR</span></span>
<span id="cb11-3"><a></a>conda install python<span class="op">-</span>duckdb <span class="op">-</span>c conda<span class="op">-</span>forge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Connecting to DuckDB</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a></a><span class="im">import</span> duckdb</span>
<span id="cb12-2"><a></a><span class="co"># directly query a Pandas DataFrame</span></span>
<span id="cb12-3"><a></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb12-4"><a></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/anly503/datasets/main/EconomistData.csv"</span>)</span>
<span id="cb12-5"><a></a>duckdb.sql(<span class="st">'SELECT * FROM df'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="setting-up-duckdb-contd." class="slide level2">
<h2>Setting Up DuckDB (contd.)</h2>
<ol type="1">
<li><p><strong>Supported data formats</strong>: DuckDB can ingest data from a wide variety of formats – both on-disk and in-memory. See the <a href="https://duckdb.org/docs/api/python/data_ingestion">data ingestion page</a> for more information.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a></a><span class="im">import</span> duckdb</span>
<span id="cb13-2"><a></a>duckdb.read_csv(<span class="st">'example.csv'</span>)                <span class="co"># read a CSV file into a Relation</span></span>
<span id="cb13-3"><a></a>duckdb.read_parquet(<span class="st">'example.parquet'</span>)        <span class="co"># read a Parquet file into a Relation</span></span>
<span id="cb13-4"><a></a>duckdb.read_json(<span class="st">'example.json'</span>)              <span class="co"># read a JSON file into a Relation</span></span>
<span id="cb13-5"><a></a></span>
<span id="cb13-6"><a></a>duckdb.sql(<span class="st">'SELECT * FROM "example.csv"'</span>)     <span class="co"># directly query a CSV file</span></span>
<span id="cb13-7"><a></a>duckdb.sql(<span class="st">'SELECT * FROM "example.parquet"'</span>) <span class="co"># directly query a Parquet file</span></span>
<span id="cb13-8"><a></a>duckdb.sql(<span class="st">'SELECT * FROM "example.json"'</span>)    <span class="co"># directly query a JSON file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="querying-duckdb" class="slide level2">
<h2>Querying DuckDB</h2>
<p>Essential reading: <a href="https://duckdb.org/2022/05/04/friendlier-sql.html">Friendlier SQL with DuckDB</a>, <a href="https://duckdb.org/docs/sql/introduction">SQL Introduction</a></p>
<p><strong>Basic SQL Queries</strong>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a></a><span class="im">import</span> duckdb</span>
<span id="cb14-2"><a></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb14-3"><a></a>babynames <span class="op">=</span> pd.read_parquet(<span class="st">"https://github.com/anly503/datasets/raw/main/babynames.parquet.zstd"</span>)</span>
<span id="cb14-4"><a></a>duckdb.sql(<span class="st">"select count(*)  from babynames where Name='John'"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Aggregations and Grouping</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a></a>duckdb.sql(<span class="st">"select State, Name, count(*) as count  from babynames group by State, Name order by State desc, count desc"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="querying-duckdb-contd." class="slide level2">
<h2>Querying DuckDB (contd.)</h2>
<p>Essential reading: <a href="https://duckdb.org/docs/sql/query_syntax/from.html">From &amp; Join clauses</a></p>
<p><strong>Joins and Subqueries</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a></a><span class="co"># -- join two tables together</span></span>
<span id="cb16-2"><a></a>duckdb.sql(<span class="st">"SELECT * FROM table_name JOIN other_table ON (table_name.key = other_table.key"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Window Functions</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a></a>powerplants <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/anly503/datasets/main/powerplants.csv"</span>, parse_dates<span class="op">=</span>[<span class="st">"date"</span>])</span>
<span id="cb17-2"><a></a>q <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb17-3"><a></a><span class="st">SELECT "plant", "date",</span></span>
<span id="cb17-4"><a></a><span class="st">    AVG("MWh") OVER (</span></span>
<span id="cb17-5"><a></a><span class="st">        PARTITION BY "plant"</span></span>
<span id="cb17-6"><a></a><span class="st">        ORDER BY "date" ASC</span></span>
<span id="cb17-7"><a></a><span class="st">        RANGE BETWEEN INTERVAL 3 DAYS PRECEDING</span></span>
<span id="cb17-8"><a></a><span class="st">                  AND INTERVAL 3 DAYS FOLLOWING)</span></span>
<span id="cb17-9"><a></a><span class="st">        AS "MWh 7-day Moving Average"</span></span>
<span id="cb17-10"><a></a><span class="st">FROM powerplants</span></span>
<span id="cb17-11"><a></a><span class="st">ORDER BY 1, 2;</span></span>
<span id="cb17-12"><a></a><span class="st">"""</span></span>
<span id="cb17-13"><a></a>duckdb.sql(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-the-duckdb-cli-shell" class="slide level2">
<h2>Using the DuckDB CLI &amp; Shell</h2>
<ol type="1">
<li><p>Install the DuckDB CLI (<a href="http://duckdb.org/docs/installation/">download link</a>) OR use it in your browser via <a href="https://shell.duckdb.org/">shell.duckdb.org/</a> for easy data exploration using just SQL.</p></li>
<li><p>Once installed you can import a local file into the shell and run queries.</p>
<ul>
<li>You can download <code>powerplants.csv</code> from <a href="https://raw.githubusercontent.com/anly503/datasets/main/powerplants.csv">here</a>.</li>
</ul></li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a></a>C:\Users\<span class="op">&lt;</span>username<span class="op">&gt;</span>\Downloads\duckdb_cli<span class="op">-</span>windows<span class="op">-</span>amd64<span class="op">&gt;</span>duckdb</span>
<span id="cb18-2"><a></a>v0<span class="fl">.8.1</span> <span class="dv">6536</span><span class="er">a77232</span></span>
<span id="cb18-3"><a></a>Enter <span class="st">".help"</span> <span class="cf">for</span> usage hints.</span>
<span id="cb18-4"><a></a>Connected to a transient <span class="kw">in</span><span class="op">-</span>memory database.</span>
<span id="cb18-5"><a></a>Use <span class="st">".open FILENAME"</span> to reopen on a persistent database.</span>
<span id="cb18-6"><a></a>D CREATE TABLE powerplants AS SELECT <span class="op">*</span> FROM read_csv_auto(<span class="st">'powerplants.csv'</span>)<span class="op">;</span></span>
<span id="cb18-7"><a></a>D DESCRIBE powerplants<span class="op">;</span></span>
<span id="cb18-8"><a></a>┌─────────────┬─────────────┬─────────┬─────────┬─────────┬───────┐</span>
<span id="cb18-9"><a></a>│ column_name │ column_type │  null   │   key   │ default │ extra │</span>
<span id="cb18-10"><a></a>│   varchar   │   varchar   │ varchar │ varchar │ varchar │ int32 │</span>
<span id="cb18-11"><a></a>├─────────────┼─────────────┼─────────┼─────────┼─────────┼───────┤</span>
<span id="cb18-12"><a></a>│ plant       │ VARCHAR     │ YES     │         │         │       │</span>
<span id="cb18-13"><a></a>│ date        │ DATE        │ YES     │         │         │       │</span>
<span id="cb18-14"><a></a>│ MWh         │ BIGINT      │ YES     │         │         │       │</span>
<span id="cb18-15"><a></a>└─────────────┴─────────────┴─────────┴─────────┴─────────┴───────┘</span>
<span id="cb18-16"><a></a>D  SELECT <span class="op">*</span> <span class="im">from</span> powerplants where plant<span class="op">=</span><span class="st">'Boston'</span> <span class="kw">and</span> date<span class="op">=</span><span class="st">'2019-01-02'</span><span class="op">;</span></span>
<span id="cb18-17"><a></a>┌─────────┬────────────┬────────┐</span>
<span id="cb18-18"><a></a>│  plant  │    date    │  MWh   │</span>
<span id="cb18-19"><a></a>│ varchar │    date    │ int64  │</span>
<span id="cb18-20"><a></a>├─────────┼────────────┼────────┤</span>
<span id="cb18-21"><a></a>│ Boston  │ <span class="dv">2019</span><span class="op">-</span><span class="dv">0</span><span class="er">1</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span> │ <span class="dv">564337</span> │</span>
<span id="cb18-22"><a></a>└─────────┴────────────┴────────┘</span>
<span id="cb18-23"><a></a>D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="profiling-in-duckdb" class="slide level2">
<h2>Profiling in DuckDB</h2>
<ol type="1">
<li><p>Query Optimization: Use the EXPLAIN &amp; ANALYZE keywords to understand how your query is being executed (see <a href="https://en.wikipedia.org/wiki/Query_plan#:~:text=A%20query%20plan%20(or%20query,model%20concept%20of%20access%20plans.)">Query Plan</a> and the time being spent in individual steps of your query.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a></a>D EXPLAIN ANALYZE SELECT * from powerplants where plant='Boston' and date='2019-01-02';</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>DuckDB will use all the cores available on the underlying compute, but you can adjust it (scenario: your process is not the only application on that VM, you want to limit the amount of resources it gets). Full configuration available <a href="https://duckdb.org/docs/sql/configuration.html">here</a>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb20-1"><a></a>D select current_setting('threads');</span>
<span id="cb20-2"><a></a>┌────────────────────────────┐</span>
<span id="cb20-3"><a></a>│ current_setting('threads') │</span>
<span id="cb20-4"><a></a>│           int64            │</span>
<span id="cb20-5"><a></a>├────────────────────────────┤</span>
<span id="cb20-6"><a></a>│                          8 │</span>
<span id="cb20-7"><a></a>└────────────────────────────┘</span>
<span id="cb20-8"><a></a>D SET threads=4;</span>
<span id="cb20-9"><a></a>D select current_setting('threads');</span>
<span id="cb20-10"><a></a>┌────────────────────────────┐</span>
<span id="cb20-11"><a></a>│ current_setting('threads') │</span>
<span id="cb20-12"><a></a>│           int64            │</span>
<span id="cb20-13"><a></a>├────────────────────────────┤</span>
<span id="cb20-14"><a></a>│                          4 │</span>
<span id="cb20-15"><a></a>└────────────────────────────┘</span>
<span id="cb20-16"><a></a>D</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section></section>
<section>
<section id="benchmarks-and-comparisons" class="title-slide slide level1 center">
<h1>Benchmarks and Comparisons</h1>
<div class="columns">
<div class="column" style="width:50%;">
<ol type="1">
<li>This is a tricky topic, in general, you can make your choosen solution look better by focussing on metrics on which your choosen solution provides better results.
<ul>
<li>In general, <a href="https://www.tpc.org/tpch/">TPC-H</a> and <a href="https://www.tpc.org/tpcds/">TPC-DS</a> are considered the standard benchmarks for data processing.</li>
</ul></li>
<li>Some links to explore further:</li>
</ol>
<ul>
<li><p><strong>Reddit post</strong>: <a href="https://www.reddit.com/r/datascience/comments/13yd2m9/benchmarking_for_duckdb_and_polars/">Benchmarking for DuckDB and Polars</a></p></li>
<li><p><strong>TPC-H benchmarks for DuckDB</strong>: did not find anything on the duckdb.org, but <a href="https://www.architecture-performance.fr/categories_blog/benchmark/">this site</a> has several DuckDB TPC-H benchmarks.</p></li>
<li><p><strong><a href="https://datamonkeysite.com/2023/03/09/benchmarking-snowflake-databricks-synapse-bigquery-and-duckdb-using-tpch-sf100/">Benchmarking, Snowflake, Databricks, Synapse, BigQuery, Redshift, Trino, DuckDB and Hyper using TPCH-</a></strong></p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="duckdb/img/TPC-DS-Homepage.png"></p>
<figcaption>TPC-DS</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="a-simple-example-of-using-duckdb-and-apache-arrow-using-nyc-taxi-dataset" class="slide level2">
<h2>A simple example of using DuckDB and Apache Arrow using NYC Taxi dataset</h2>
<p>This notebook reads the NYC taxi dataset files for the year 2021 (about ~29 million rows) and runs some analytics operation on this dataset. This dataset is too big to fit into memory.</p>
<ol type="1">
<li><p>We read the data from S3 using apache Arrow (pyarrow).</p></li>
<li><p>The zero-copy integration between DuckDB and Apache Arrow allows for rapid analysis of larger than memory datasets in Python and R using either SQL or relational APIs.</p></li>
<li><p>We create a DuckDB instance in memory and using the connection to this in-memory database We run some simple analytics operations using SQL syntax.</p></li>
</ol>
<p>Also see <a href="https://duckdb.org/2021/12/03/duck-arrow.html">https://duckdb.org/2021/12/03/duck-arrow.html</a></p>
</section>
<section id="further-reading-1" class="slide level2">
<h2>Further reading</h2>
<ol type="1">
<li><a href="https://duckdb.org/2022/03/07/aggregate-hashtable.html">Parallel Grouped Aggregation in DuckDB</a></li>
<li><a href="https://duckdb.org/docs/guides/meta/list_tables">Meta queries</a></li>
<li><a href="https://duckdb.org/dev/profiling">Profiling queries in DuckDB</a></li>
<li><a href="https://motherduck.com/blog/duckdb-tutorial-for-beginners/">DuckDB tutorial for beginners</a></li>
<li><a href="https://duckdb.org/docs/api/cli">DuckDB CLI API</a></li>
<li><a href="https://tobilg.com/using-duckdb-in-aws-lambda">Using DuckDB in AWS Lambda</a></li>
<li><a href="https://dagster.io/blog/poor-mans-datalake-motherduck">Revisiting the Poor Man’s Data Lake with MotherDuck</a></li>
<li><a href="https://medium.com/learning-sql/supercharge-your-data-processing-with-duckdb-cea907196704">Supercharge your data processing with DuckDB</a></li>
<li><a href="https://duckdb.org/2022/05/04/friendlier-sql.html">Friendlier SQL with DuckDB</a></li>
<li><a href="https://medium.com/@octavianzarzu/build-and-deploy-apps-with-duckdb-and-streamlit-in-under-one-hour-852cd31cccce">Building and deploying data apps with DuckDB and Streamlit</a></li>
</ol>
</section>
<section id="github-classroom" class="slide level2">
<h2>GitHub Classroom</h2>
<p><a href="https://classroom.github.com/a/ADi4vxUM">GitHub Classroom Link</a></p>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'print',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/aa1603\.georgetown\.edu\/dsan6000");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>