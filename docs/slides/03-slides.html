<!DOCTYPE html>
<html lang="en"><head>
<link href="..//files/img/ppol5206-logo.png" rel="icon" type="image/png">
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="author" content="Amit Arora">
  <title>PPOL 5206 - Lecture 3</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cbccc6; background-color: #1f2430; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cbccc6; } /* Normal */
    code span.al { color: #ff3333; background-color: #332430; font-weight: bold; } /* Alert */
    code span.an { color: #ffe6b3; } /* Annotation */
    code span.at { color: #73d0ff; } /* Attribute */
    code span.bn { color: #ffcc66; } /* BaseN */
    code span.bu { color: #95e6cb; } /* BuiltIn */
    code span.cf { color: #ffa759; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #95e6cb; } /* Char */
    code span.cn { color: #d4bfff; } /* Constant */
    code span.co { color: #5c6773; font-style: italic; } /* Comment */
    code span.cv { color: #d4bfff; } /* CommentVar */
    code span.do { color: #5c6773; } /* Documentation */
    code span.dt { color: #ffa759; } /* DataType */
    code span.dv { color: #ffcc66; } /* DecVal */
    code span.er { color: #ff3333; text-decoration: underline; } /* Error */
    code span.ex { color: #73d0ff; font-weight: bold; } /* Extension */
    code span.fl { color: #ffcc66; } /* Float */
    code span.fu { color: #ffd580; } /* Function */
    code span.im { color: #bae67e; } /* Import */
    code span.in { color: #ffcc66; } /* Information */
    code span.kw { color: #ffa759; font-weight: bold; } /* Keyword */
    code span.op { color: #f29e74; } /* Operator */
    code span.ot { color: #5ccfe6; } /* Other */
    code span.pp { color: #f28779; } /* Preprocessor */
    code span.re { color: #73d0ff; background-color: #2a4254; } /* RegionMarker */
    code span.sc { color: #95e6cb; } /* SpecialChar */
    code span.ss { color: #95e6cb; } /* SpecialString */
    code span.st { color: #bae67e; } /* String */
    code span.va { color: #5ccfe6; } /* Variable */
    code span.vs { color: #bae67e; } /* VerbatimString */
    code span.wa { color: #f28779; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-N2B9K684GE"></script>

  <script type="text/javascript">

  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-N2B9K684GE', { 'anonymize_ip': true});
  </script>
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<meta property="og:title" content="PPOL 5206 - Lecture 3">
<meta property="og:description" content="Parallelization">
<meta property="og:image" content="https://aa1603.georgetown.edu/ppol5206/files/img/ppol5206-logo.png">
<meta property="og:site-name" content="PPOL 5206">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="600">
<meta property="og:image:width" content="518">
<meta name="twitter:title" content="PPOL 5206 - Lecture 3">
<meta name="twitter:description" content="Parallelization">
<meta name="twitter:image" content="https://aa1603.georgetown.edu/ppol5206/files/img/ppol5206-logo.png">
<meta name="twitter:creator" content="@aarora79">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="600">
<meta name="twitter:image-width" content="518">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Lecture 3</h1>
  <p class="subtitle">Parallelization</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Amit Arora 
</div>
        <p class="quarto-title-affiliation">
            Georgetown University
          </p>
        <p class="quarto-title-affiliation">
            Spring 2024
          </p>
    </div>
</div>

</section>
<section id="agenda-and-goals-for-today" class="slide level2">
<h2>Agenda and Goals for Today</h2>
<ul>
<li>Scaling up and scaling out</li>
<li>Parallelization</li>
<li>Map and Reduce functions</li>
<li>Lab Preview: Parallelization with Python
<ul>
<li>Use the <code>multiprocessing</code> module</li>
<li>Implement synchronous and asynchronous processing</li>
</ul></li>
<li>Homework Preview: Parallelization with Python
<ul>
<li>Parallel data processing</li>
</ul></li>
</ul>
</section>
<section id="looking-back" class="slide level2">
<h2>Looking back</h2>
<ul>
<li>Continued great use of <span style="color: red;">Slack</span> <i class="fa-brands fa-slack" aria-hidden="true"></i>
<ul>
<li>Nice interactions</li>
</ul></li>
<li>Lab 2 and Assignment 2 due on <strong>Thursday, 15 September</strong></li>
<li>Lab 3 and Assignment 3 released this week, due Monday, 19 September</li>
</ul>
</section>
<section id="glossary" class="slide level2">
<h2>Glossary</h2>
<div class="cell">
<div class="cell-output-display">

<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Term </th>
   <th style="text-align:left;"> Definition </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> Local </td>
   <td style="text-align:left;width: 40em; "> Your current workstation (laptop, desktop, etc.), wherever you start the terminal/console application. </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> Remote </td>
   <td style="text-align:left;width: 40em; "> Any machine you connect to via ssh or other means. </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> EC2 </td>
   <td style="text-align:left;width: 40em; "> Single virtual machine in the cloud where you can run computation (ephemeral) </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> SageMaker </td>
   <td style="text-align:left;width: 40em; "> Integrated Developer Environment where you can conduct data science on single machines </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> Ephemeral </td>
   <td style="text-align:left;width: 40em; "> Lasting for a short time - any machine that will get turned off or place you will lose data </td>
  </tr>
  <tr>
   <td style="text-align:left;font-weight: bold;border-right:1px solid;"> Persistent </td>
   <td style="text-align:left;width: 40em; "> Lasting for a long time - any environment where your work is NOT lost when the timer goes off </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section>
<section id="parallelization" class="title-slide slide level1 section center">
<h1>Parallelization</h1>

</section>
<section id="typical-real-world-scenarios" class="slide level2">
<h2>Typical real world scenarios</h2>
<div>
<ul>
<li class="fragment">You are a Data Scientist and you want to cross-validate your models. This involves running the model <em>1000 times</em> but each run takes over an hour.</li>
<li class="fragment">You are a Data Scientist and you want to run multiple models on your data, where each run can take up to 1 hour.</li>
<li class="fragment">You are a genomics researcher and have been using small datasets of sequence data but soon you will receive a new type of sequencing data that is <em>10 times</em> as large. This means 10x more transcripts to process, but the processing for each transcript is similar.</li>
<li class="fragment">You are an engineer using a fluid dynamics package that has an option to run in parallel. So far, you haven’t used this option on your workstation. When moving from 2D to 3D simulations, the simulation time has more than tripled so it may make sense to take advantage of the parallel feature</li>
<li class="fragment">You are a Data Scientist at the Federal Reserve and you have millions of text to process. So far, you have only executed NLP on thousands of articles and have not implemented machine learning models on them.</li>
</ul>
</div>
</section></section>
<section>
<section id="parallel-programming" class="title-slide slide level1 section center">
<h1>Parallel Programming</h1>

</section>
<section id="linear-vs.-parallel" class="slide level2">
<h2>Linear vs.&nbsp;Parallel</h2>
<div class="columns">
<div class="column" style="width:47%;">
<h3 id="linearsequential">Linear/Sequential</h3>
<ol type="1">
<li>A program starts to run</li>
<li>The program issues an instruction</li>
<li>The instruction is executed</li>
<li>Steps 2 and 3 are repeated</li>
<li>The program finishes running</li>
</ol>
</div><div class="column" style="width:47%;">
<h3 id="parallel">Parallel</h3>
<ol type="1">
<li>A program starts to run</li>
<li>The program divides up the work into chunks of instructions and data</li>
<li>Each chunk of work is executed independently</li>
<li>The chunks of work are reassembled</li>
<li>The program finishes running</li>
</ol>
</div>
</div>
</section>
<section id="linear-vs.-parallel-1" class="slide level2">
<h2>Linear vs.&nbsp;Parallel</h2>
<div class="columns">
<div class="column" style="width:47%;">
<p><img src="img/linear.png" width="400"></p>
</div><div class="column" style="width:47%;">
<p><img src="img/parallel.png" width="400"></p>
</div>
</div>
</section>
<section id="linear-vs.-parallel-2" class="slide level2">
<h2>Linear vs.&nbsp;Parallel</h2>
<p>From a data science perspective</p>
<div class="columns">
<div class="column" style="width:47%;">
<h3 id="linear">Linear</h3>
<ul>
<li>The data remains monolithic</li>
<li>Procedures act on the data sequentially
<ul>
<li>Each procedure has to complete before the next procedure can start</li>
</ul></li>
<li>You can think of this as a single pipeline</li>
</ul>
</div><div class="column" style="width:47%;">
<h3 id="parallel-1">Parallel</h3>
<ul>
<li>The data can be split up into chunks</li>
<li>The same procedures can be run on each chunk at the same time</li>
<li>Or, independent procedures can run on different chunks at the same time</li>
<li>Need to bring things back together at the end</li>
</ul>
</div>
</div>
<div class="fragment">
<!-- -->
<h3 id="what-are-some-examples-of-linear-and-parallel-data-science-workflows">What are some examples of linear and parallel data science workflows?</h3>
</div>
</section>
<section id="embarrasingly-parallel" class="slide level2">
<h2>Embarrasingly Parallel</h2>
<p>It’s <strong>easy</strong> to speed things up when:</p>
<ul>
<li>You need to calculate the same thing many times</li>
<li>Calculations are <strong>independent</strong> of each other</li>
<li>Each calculation takes a decent amount of time</li>
</ul>
<p>Just run <strong>multiple calculations at the same time</strong></p>
</section>
<section id="embarrasingly-parallel-1" class="slide level2">
<h2>Embarrasingly Parallel</h2>
<p>The concept is based on the old middle/high school math problem:</p>
<blockquote>
<p>If 5 people can shovel a parking lot in 6 hours, how long will it take 100 people to shovel the same parking lot?</p>
</blockquote>
<p>Basic idea is that many hands (cores/instances) make lighter (faster/more efficient) work of the same problem, as long as the effort can be split up appropriately into nearly equal parcels</p>

<aside><div>
<p>The classical answer to the problem is 18 minutes</p>
</div></aside></section>
<section id="embarassingly-parallel" class="slide level2">
<h2>Embarassingly parallel</h2>
<div>
<ul>
<li class="fragment">If you can truly split up your problem into multiple <strong>independent</strong> parts, then you can often get linear speedups with the number of parallel components (to a limit)
<ul>
<li class="fragment">The more cores you use and the more you parallelize, the more you incur communication overhead and decrease available RAM, so the speedup is almost certainly sub-linear, i.e.&nbsp;for a 4-core machine you’ll probably get a 3-4x speedup, but rarely a full 4x speedup<sup>1</sup></li>
</ul></li>
<li class="fragment">The question often is, which part of your problem is embarassingly parallel?</li>
<li class="fragment">Amdahl’s law (which we’ll see in a few slides) shows how parallelization can benefit overall if a large proportion of the problem is parallelizable</li>
<li class="fragment">It’s not all milk and honey. Setting up, programming, evaluating, debugging parallel computations requires better infrastructure and more expertise.</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Gorelick &amp; Ozsvald, 2020. <em>High Performance Python</em>, O’Reilly</p></li></ol></aside></section></section>
<section>
<section id="when-might-parallel-programming-not-be-more-efficient" class="title-slide slide level1 section center">
<h1>When might parallel programming not be more efficient?</h1>

</section>
<section id="some-limitations" class="slide level2">
<h2>Some limitations</h2>
<h4 id="you-can-get-speedups-by-parallelizing-computations-but">You can get speedups by parallelizing computations, but</h4>
<ul>
<li>Having to transport data between parallel processes (memory bottlenecks) and communication between processes (I/O bottlenecks) can make things more expensive and can exceed the benefits of parallelization</li>
<li>If you’re moving a lot of data but not doing a lot of parallel computing, it’s often not worth the effort</li>
</ul>
<div class="fragment">
<!-- -->
<h4 id="setting-up-and-debugging-parallel-programs-can-be-difficult">Setting up and debugging parallel programs can be difficult</h4>
<p>But this has become easier with better software, like the <code>multiprocessing</code> module in Python</p>
</div>
<div class="fragment">
<!-- -->
<h4 id="making-sure-that-we-can-get-back-all-the-pieces-needs-monitoring">Making sure that we can get back all the pieces needs monitoring</h4>
<ul>
<li>Failure tolerance and protections (Hadoop, e.g.)</li>
<li>Proper collection and aggregation of the processed data</li>
</ul>
</div>
</section>
<section id="amdahls-law" class="slide level2">
<h2>Amdahl’s Law</h2>
<div class="column" style="width:50%;">
<div class="imgcenter">
<p><img data-src="img/AmdahlsLaw.svg"></p>
</div>
</div>
<div class="column" style="width:45%;">
<p><span class="math display">\[
\lim_{s\rightarrow\infty} S_{latency} = \frac{1}{1-p}
\]</span></p>
<p>where <span class="math inline">\(s\)</span> is the speedup of that part of the task (which is <span class="math inline">\(p\)</span> proportion of the overall task) benefitting from improved resources.</p>
</div>
<p>If 50% of the task is embarassingly parallel, you can get a maximum speedup of 2-fold, while if 90% is embarassingly parallel, you can get a maximum speedup of <span class="math inline">\(1/(1-0.9) = 10\)</span> fold.</p>

<aside><div>
<p>By <a href="https://en.wikipedia.org/wiki/User:Daniels220" class="extiw" title="wikipedia:User:Daniels220">Daniels220</a> at <a href="https://en.wikipedia.org/wiki/" class="extiw" title="wikipedia:">English Wikipedia</a>, <a href="https://creativecommons.org/licenses/by-sa/3.0" title="Creative Commons Attribution-Share Alike 3.0">CC BY-SA 3.0</a>, <a href="https://commons.wikimedia.org/w/index.php?curid=6678551">Link</a></p>
</div></aside></section>
<section id="pros-and-cons-of-parallelization" class="slide level2">
<h2>Pros and cons of parallelization</h2>
<div class="column" style="width:47%;">
<h3 id="yes">Yes</h3>
<ul>
<li>Group by analysis</li>
<li>Simulations</li>
<li>Resampling / Bootstrapping</li>
<li>Optimization</li>
<li>Cross-validation</li>
<li>Training bagged models (like Random Forests)</li>
<li>Multiple chains in a Bayesian MCMC</li>
<li>Scoring (predicting) using trained models</li>
</ul>
</div>
<div class="column" style="width:47%;">
<div class="fragment">
<!-- -->
<h3 id="no">No</h3>
<ul>
<li>SQL Operations</li>
<li>Inverting a matrix</li>
<li>Training linear regression</li>
<li>Training logistic regression</li>
<li>Training trees</li>
<li>Training neural nets</li>
<li>Training boosted models (like gradient boosted trees)</li>
<li>Each chain in a Bayesian MCMC</li>
<li>Most things time series</li>
</ul>
</div>
</div>
<div class="fragment">
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>For processes in the “No” column, each step depends on a previous step, and so they cannot be parallelized. However, there are approximate numerical methods applicable to big data which are parallelizable and get you to the right answer, based on parallely taking random subsets of the data. We’ll see some of these when we look at Spark ML</p>
</div>
</div>
</div>
</div>
</section>
<section id="pros-and-cons-of-parallelization-1" class="slide level2">
<h2>Pros and cons of parallelization</h2>
<div class="columns">
<div class="column" style="width:47%;">
<h3 id="pros">Pros</h3>
<ul>
<li><p>Higher efficiency</p></li>
<li><p>Using modern infrastructure</p></li>
<li><p>Scalable to larger data, more complex procedures</p>
<ul>
<li><em>proviso</em> procedures are embarassingly parallel</li>
</ul></li>
</ul>
</div><div class="column right" style="width:47%;">
<div class="fragment">
<!-- -->
<h3 id="cons">Cons</h3>
<ul>
<li>Higher programming complexity</li>
<li>Need proper software infrastructure (MPI, Hadoop, etc)</li>
<li>Need to ensure right packages/modules are distributed across processors</li>
<li>Need to account for a proportion of jobs failing, and recovering from them</li>
<li>Hence, Hadoop/Spark and other technologies</li>
<li>Higher setup cost in terms of time/expertise/money</li>
</ul>
</div>
</div>
</div>
<div class="fragment">
<p>There are good solutions today for most of the cons, so the pros have it and so this paradigm is widely accepted and implemented</p>
</div>
</section></section>
<section>
<section id="parallel-programming-models" class="title-slide slide level1 section center">
<h1>Parallel Programming Models</h1>

</section>
<section id="distributed-memory-message-passing-model" class="slide level2">
<h2>Distributed memory / Message Passing Model</h2>
<div style="text-align: center;">
<p><img src="img/parallel1.png" width="600"></p>
</div>
</section>
<section id="data-parallel-model" class="slide level2">
<h2>Data parallel model</h2>
<div style="text-align: center;">
<p><img src="img/parallel2.png" width="600"></p>
</div>
</section>
<section id="hybrid-model" class="slide level2">
<h2>Hybrid model</h2>
<div style="text-align: center;">
<p><img src="img/parallel4.png" width="500"></p>
</div>
<div style="text-align: center;">
<p><img src="img/parallel3.png" width="500"></p>
</div>
</section>
<section id="partitioning-data" class="slide level2">
<h2>Partitioning data</h2>
<div style="text-align: center;">
<p><img src="img/parallel5.png" width="600"></p>
</div>
</section>
<section id="designing-parallel-programs" class="slide level2">
<h2>Designing parallel programs</h2>
<ul>
<li>Data partitioning</li>
<li>Communication</li>
<li>Synchronization / Orchestration</li>
<li>Data dependencies</li>
<li>Load balancing</li>
<li>Input and Output (I/O)</li>
<li>Debugging</li>
</ul>
<div class="fragment">
<p>A lot of these components are data engineering and DevOps issues</p>
</div>
<div class="fragment">
<p>Infrastructures have standardized many of these and have helped data scientists implement parallel programming much more easily</p>
</div>
<div class="fragment">
<p>We’ll see in the lab how the <code>multiprocessing</code> module in Python makes parallel processing on a machine quite easy to implement</p>
</div>
</section></section>
<section>
<section id="parallel-computing" class="title-slide slide level1 section center">
<h1>Parallel Computing</h1>

</section>
<section id="section" class="slide level2" data-background-image="img/scale1.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-1" class="slide level2" data-background-image="img/scale2.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-2" class="slide level2" data-background-image="img/scale3.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-3" class="slide level2" data-background-image="img/scale4.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-4" class="slide level2" data-background-image="img/scale5.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-5" class="slide level2" data-background-image="img/scale6.png" data-background-size="contain">
<h2></h2>
</section></section>
<section>
<section id="functional-programming" class="title-slide slide level1 section center">
<h1>Functional Programming</h1>

</section>
<section id="map-and-reduce" class="slide level2">
<h2>Map and Reduce</h2>
</section>
<section id="section-6" class="slide level2" data-background-image="img/parallel-time.png" data-background-size="contain">
<h2></h2>
</section>
<section id="components-of-a-parallel-programming-workflow" class="slide level2">
<h2>Components of a parallel programming workflow</h2>
<ol type="1">
<li>Divide the work into chunks</li>
<li>Work on each chunk separately</li>
<li>Reassemble the work</li>
</ol>
<p>This paradigm is often referred to as a <strong>map-reduce framework</strong>, or, more descriptively, the <strong>split-apply-combine</strong> paradigm</p>
</section>
<section id="section-7" class="slide level2" data-background-image="img/split-apply-combine.png" data-background-size="contain">
<h2></h2>
</section>
<section id="section-8" class="slide level2" data-background-image="img/split-apply-combine-2.png" data-background-size="contain">
<h2></h2>
</section></section>
<section>
<section id="map" class="title-slide slide level1 section center">
<h1>Map</h1>

</section>
<section id="map-1" class="slide level2">
<h2>Map</h2>
<p>The <strong>map</strong> operation is a 1-1 operation that takes each split and processes it</p>
<p>The <strong>map</strong> operation keeps the same number of objects in its output that were present in its input</p>
<div style="text-align: center; width: 50%; height: 50%">
<p><img data-src="img/map1.png"></p>
</div>
</section>
<section id="map-2" class="slide level2">
<h2>Map</h2>
<div style="text-align: center; width: 80%, height: 80%">
<p><img data-src="img/map2.png"></p>
</div>
<p>The operations included in a particular <strong>map</strong> can be quite complex, involving multiple steps. In fact, you can implement a <em>pipeline</em> of procedures within the <strong>map</strong> step to process each data object.</p>
<p>The main point is that the <em>same</em> operations will be run on each data object in the <strong>map</strong> implementation</p>
</section>
<section id="map-3" class="slide level2">
<h2>Map</h2>
<p>Some examples of a <strong>map</strong> operations are</p>
<ol type="1">
<li>Extracting a standard table from online reports from multiple years</li>
<li>Extracting particular records from multiple JSON objects</li>
<li>Transforming data (as opposed to summarizing it)</li>
<li>Run a normalization script on each transcript in a GWAS dataset</li>
<li>Standardizing demographic data for each of the last 20 years against the 2000 US population</li>
</ol>
<div class="imgcenter imghalf">
<p><img data-src="img/map3.png"></p>
</div>
</section></section>
<section>
<section id="reduce" class="title-slide slide level1 section center">
<h1>Reduce</h1>

</section>
<section id="reduce-1" class="slide level2">
<h2>Reduce</h2>
<p>The <strong>reduce</strong> operation takes multiple objects and <em>reduces</em> them to a (perhaps) smaller number of objects using transformations that aren’t amenable to the <strong>map</strong> paradigm.</p>
<p>These transformations are often serial/linear in nature</p>
<p>The <strong>reduce</strong> transformation is usually the last, not-so-elegant transformation needed after most of the other transformations have been efficiently handled in a parallel fashion by <strong>map</strong></p>
<div class="imgcenter imghalf">
<p><img data-src="img/reduce2.png"></p>
</div>
</section>
<section id="reduce-2" class="slide level2">
<h2>Reduce</h2>
<p>The <strong>reduce</strong> operation requires</p>
<ol type="a">
<li>
An <i>accumulator</i> function, that will update serially as new data is fed into it
</li><li>
A sequence of objects to run through the accumulator function
</li><li>
A starting value from which the accumulator function starts
</li></ol>
<p>Programmatically, this can be written as</p>
<div class="imgcenter" style="width: 80%; height:80%;">
<p><img data-src="img/reduce3.png"></p>
</div>
</section>
<section id="reduce-3" class="slide level2">
<h2>Reduce</h2>
<p>The <strong>reduce</strong> operation works serially from “left” to “right”, passing each object successively through the accumulator function.</p>
<p>For example, if we were to add successive numbers with a function called <code>add</code>…</p>
<div class="imgcenter" style="width: 80%; height: 80%;">
<p><img data-src="img/reduce4.png"></p>
</div>
</section>
<section id="reduce-4" class="slide level2">
<h2>Reduce</h2>
<p>Some examples:</p>
<ol type="1">
<li>Finding the common elements (<em>intersection</em>) of a large number of sets</li>
<li>Computing a table of group-wise summaries</li>
<li>Filtering</li>
<li>Tabulating</li>
</ol>
</section></section>
<section>
<section id="map-reduce" class="title-slide slide level1 section center">
<h1>Map &amp; Reduce</h1>

</section>
<section id="map-reduce-1" class="slide level2">
<h2>map-reduce</h2>
<p>Combining the <strong>map</strong> and <strong>reduce</strong> operations creates a powerful pipeline that can handle a diverse range of problems in the Big Data context</p>
<div class="imgcenter imghalf">
<p><img data-src="img/mr1.png"></p>
</div>
</section></section>
<section>
<section id="parallelization-and-map-reduce" class="title-slide slide level1 section center">
<h1>Parallelization and map-reduce</h1>

</section>
<section id="parallelization-and-map-reduce-are-bed-mates" class="slide level2">
<h2>Parallelization and map-reduce are bed-mates</h2>
<div class="imgcenter" style="width: 80%; height: 80%;">
<p><img data-src="img/pmr1.png"></p>
</div>
<div class="fragment">
<p>One of the issues here is, how to split the data in a “good” manner so that the map-reduce framework works well</p>
</div>
</section></section>
<section>
<section id="the-multiprocessing-module" class="title-slide slide level1 section center">
<h1>The <code>multiprocessing</code> module</h1>

</section>
<section id="the-multiprocessing-module-1" class="slide level2">
<h2>The <code>multiprocessing</code> module</h2>
<ul>
<li>Focused on single-machine multicore parallelism</li>
<li>Facilitates:
<ul>
<li>process- and thread-based parallel processing</li>
<li>sharing work over queues</li>
<li>sharing data among processes</li>
</ul></li>
</ul>
</section>
<section id="processes-and-threads" class="slide level2">
<h2>Processes and threads</h2>
<div>
<ul>
<li class="fragment">A <strong>process</strong> is an executing program, that is self-contained and has dedicated runtime and memory</li>
<li class="fragment">A <strong>thread</strong> is the basic unit to which the operating system allocates processor time. It is an entity <em>within a process</em>. A thread can execute any part of the process code, including parts currently being executed by another thread.</li>
<li class="fragment">A thread will often be faster to spin up and terminate than a full process</li>
<li class="fragment">Threads can share memory and data with each other</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-note callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>Python has the <strong>Global Interpretor Lock (GIL)</strong> which only allows only one thread to interact with Python objects at a time. So the way to parallel process in Python is to do <strong>multi-processor</strong> parallelization, where we run multiple Python interpretors across multiple processes, each with its own private memory space and GIL.</p>
</div>
</div>
</div>
</div>
</section>
<section id="some-concepts-in-multiprocessing" class="slide level2">
<h2>Some concepts in <code>multiprocessing</code><sup>1</sup></h2>
<h3 id="process">Process</h3>
<p>A forked copy of the current process; this creates a new process identifier, and the task runs as an independent child process in the operating system</p>
<h3 id="pool">Pool</h3>
<p>Wraps the <code>Process</code> into a convenient pool of workers that share a chunk of work and return an aggregated result</p>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Gorelick &amp; Ozsvald, 2020. <em>High Performance Python</em>, O’Reilly</p></li></ol></aside></section></section>
<section>
<section id="to-the-lab" class="title-slide slide level1 section center">
<h1>To the Lab!</h1>

</section>
<section id="other-methods-of-parallel-processing-in-python" class="slide level2">
<h2>Other methods of parallel processing in Python</h2>
<ul>
<li>The <code>joblib</code> module</li>
<li>Most <code>scikit-learn</code> functions have implicit parallelization baked in through the <code>n_jobs</code> parameter</li>
</ul>
<p>For example</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">from</span> sklearn.ensembles <span class="im">import</span> RandomForestClassifier</span>
<span id="cb1-2"><a href="#cb1-2"></a>clf <span class="op">=</span> RandomForestClassifier(n_estimators <span class="op">=</span> <span class="dv">100</span>, random_state <span class="op">=</span> <span class="dv">124</span>, n_jobs<span class="op">=-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>uses the <code>joblib</code> module to use all available processors (<code>n_jobs=-1</code>) to do the bootstrapping</p>


<div class="footer footer-default">

</div>
<aside><div>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>See <a href="https://scikit-learn.org/stable/computing/parallelism.html">here</a> for a description of parallel processing in the scikit-learn module</p>
</div>
</div>
</div>
</div></aside></section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'print',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>